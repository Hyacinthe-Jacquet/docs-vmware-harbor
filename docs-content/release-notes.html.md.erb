---
title: Release Notes for VMware Harbor Registry Integration with VMware Tanzu Kubernetes Grid Integrated Edition
owner: Partners
---

## <a id='v2.0.2'></a> v2.1.0

VMware Harbor Container Registry for TKGI v2.1.0 is a GA release with several important [new features](#v2.1.0_new) and [fixes](#v2.1.0_fixed). In addition, a [vulnerability](#v2.1.0_vuln) is addressed.

### <a id="v2.1.0_snapshot"></a> Release Snapshot

The table provides version, compatibility, and upgrade information for this release of VMware Harbor Registry.

<table class="nice">
    <th>Element</th>
    <th>Details</th>
    <tr>
        <td>Release Headline</td>
        <td>VMware Harbor Container Registry for TKGI v2.1.0</td>
    </tr>
    <tr>
        <td>Release Download</td>
        <td><a href="https://network.pivotal.io/products/harbor-container-registry/">VMware Tanzu Network</a></td>
    </tr>
    <tr>
        <td>Compatible Ops Manager versions</td>
        <td>v2.10.x, v2.9.x, v2.8.x (refer to the <%= vars.product_pks_short %> release notes for specific matching versions)</td>
    </tr>
    <tr>
        <td>Compatible <%= vars.product_pks_short %> versions</td>
        <td>v1.9.x, v1.8.x, v1.7.x</td>
    </tr>
    <tr>
        <td>Compatible TAS for VMs versions</td>
        <td>v.2.9.x, v2.8.x, v2.7.x, v2.6.x, v2.5.x</td>
    </tr>
    <tr>
       <td>Supported BOSH stemcell versions</td>
       <td>Stemcell Ubuntu Xenial 621.x</td>
    </tr>
    <tr>
       <td>Supported Upgrade Paths</td>
       <td>From Harbor v2.0.x and v1.10.x</td>
</table>

### <a id="v2.1.0_new"></a> New Features

The Harbor v2.1.0 release includes the following new features:

- Non-blocking Garbage Collection. Run garbage collection uninterrupted so users can continue pushing, pulling, deleting artifacts.
- Proxy Cache. Enable Harbor to act as pull through cache registries such as Dockerhub and Harbor.
- P2P Preheat. Preheat images to the P2P engines such as Alibaba Dragonfly and Uber Kraken for better geographic distribution of artifacts.
- Harbor for AI/ML. Harbor expands support for Machine Learning on Kubernetes datamodels such as Kubeflow datamodels.
- Sysdig Image Scanner. Harbor expands list of compatible image scanners to Sysdig Secure (https://github.com/sysdiglabs/harbor-scanner-sysdig-secure).
- Additional features include:
  - Simplified manual/cron job management with task manager/scheduler.
  - Improved parallel pushing/pulling performance.
  - Replication verification framework that facilitates rapid development of new replication adapter.
  - Project API reconstruction.

### <a id="v2.1.0_fixed"></a> Fixed Issues

Refer to the full list of [closed issues in Harbor v2.1.0](https://github.com/goharbor/harbor/issues?q=is%3Aissue+label%3Atarget%2F2.1.0+is%3Aclosed) at the Harbor OSS site.

### <a id="v2.1.0_vuln"></a> Vulnerability Patching

The CVE detailed in security advisory [GHSA-q9p8-33wc-h432](https://github.com/goharbor/harbor/security/advisories/GHSA-q9p8-33wc-h432) is addressed in the Harbor v2.1.0 release.

----------

## <a id='v2.0.2'></a> v2.0.3

**Release Date:** September 22, 2020

VMware Harbor Registry v2.0.3 is a minor release with [bug fixes](#v2.0.3_fixed).

### <a id="v2.0.2_snapshot"></a> Release Snapshot

The table provides version, compatibility, and upgrade information for this release of VMware Harbor Registry.

<table class="nice">
    <th>Element</th>
    <th>Details</th>
    <tr>
        <td>Release Headline</td>
        <td>VMware Harbor Registry Tile v2.0.3</td>
    </tr>
    <tr>
        <td>Release Date</td>
        <td>September 22, 2020</td>
    </tr>
    <tr>
        <td>Compatible Ops Manager versions</td>
        <td>v2.10.x, v2.9.x, v2.8.x (refer to the <%= vars.product_pks_short %> release notes for specific matching versions)</td>
    </tr>
    <tr>
        <td>Compatible <%= vars.product_pks_short %> versions</td>
        <td>v1.9.x, v1.8.x, v1.7.x</td>
    </tr>
    <tr>
        <td>Compatible TAS for VMs versions</td>
        <td>v.2.9.x, v2.8.x, v2.7.x, v2.6.x, v2.5.x</td>
    </tr>
    <tr>
       <td>Supported BOSH stemcell versions</td>
       <td>Stemcell Ubuntu Xenial 621.x</td>
    </tr>
    <tr>
       <td>Supported Upgrade Paths</td>
       <td>From Harbor v2.0.x, v1.10.x and v1.9.x</td>
</table>

### <a id="v2.0.3_new"></a> New Features

There are no new features in this minor release.

### <a id="v2.0.3_fixed"></a> Fixed Issues

Docker pull fails but the record exists (`docker pull <harbor-address>:/project/repo:1.4`).

See also the following fixed issues at the at the [Harbor OSS site](https://github.com/goharbor/harbor):

- [OSS Harbor 2.0.3 fixed issues](https://github.com/goharbor/harbor/issues?q=is%3Aissue+label%3Atarget%2F2.0.3+is%3Aclosed)

----------

## <a id='v2.0.2'></a> v2.0.2

**Release Date:** August 18, 2020

VMware Harbor Registry v2.0.2 is a minor release with [bug fixes](#v2.0.2_fixed).

### <a id="v2.0.2_snapshot"></a> Release Snapshot

The table provides version, compatibility, and upgrade information for this release of VMware Harbor Registry.

<table class="nice">
    <th>Element</th>
    <th>Details</th>
    <tr>
        <td>Release Headline</td>
        <td>VMware Harbor Registry Tile v2.0.2</td>
    </tr>
    <tr>
        <td>Release Date</td>
        <td>August 18, 2020</td>
    </tr>
    <tr>
        <td>Compatible Ops Manager versions</td>
        <td>v2.7.x, v2.8.x, v.2.9.x (refer to the <%= vars.product_pks_short %> release notes for specific matching versions)</td>
    </tr>
    <tr>
        <td>Compatible <%= vars.product_pks_short %> versions</td>
        <td>v1.6.x, v1.7.x, v1.8.x</td>
    </tr>
    <tr>
        <td>Compatible TAS for VMs versions</td>
        <td>v2.5.x, v2.6.x, v2.7.x, v2.8.x, v.2.9.x</td>
    </tr>
    <tr>
       <td>Supported BOSH stemcell versions</td>
       <td>Stemcell Ubuntu Xenial 621.x</td>
    </tr>
    <tr>
       <td>Supported Upgrade Paths</td>
       <td>From Harbor v1.10.x and v1.9.x</td>
</table>

### <a id="v2.0.2_new"></a> New Features

There are no new features in this minor release.

### <a id="v2.0.2_fixed"></a> Fixed Issues

Refer to the following fixed issues at the at the [Harbor OSS site](https://github.com/goharbor/harbor):

- [OSS Harbor 2.0.2 fixed issues](https://github.com/goharbor/harbor/issues?q=is%3Aissue+label%3Atarget%2F2.0.2+is%3Aclosed)

----------

## <a id='v2.0.1'></a> v2.0.1

**Release Date:** July 8, 2020

VMware Harbor Registry v2.0.1 is a GA release with several important [new features](#v2.0.1_new) and [fixes](#v2.0.1_fixed).

### <a id="v2.0.1_snapshot"></a> Release Snapshot

The table provides version, compatibility, and upgrade information for this release of VMware Harbor Registry.

<table class="nice">
    <th>Element</th>
    <th>Details</th>
    <tr>
        <td>Release Headline</td>
        <td>VMware Harbor Registry Tile v2.0.1</td>
    </tr>
    <tr>
        <td>Release Date</td>
        <td>July 8, 2020</td>
    </tr>
    <tr>
        <td>Compatible Ops Manager versions</td>
        <td>v2.7.x, v2.8.x, v.2.9.x (refer to the <%= vars.product_pks_short %> release notes for specific matching versions)</td>
    </tr>
    <tr>
        <td>Compatible <%= vars.product_pks_short %> versions</td>
        <td>v1.6.x, v1.7.x, v1.8.x</td>
    </tr>
    <tr>
        <td>Compatible TAS for VMs versions</td>
        <td>v2.5.x, v2.6.x, v2.7.x, v2.8.x, v.2.9.x</td>
    </tr>
    <tr>
       <td>Supported BOSH stemcell versions</td>
       <td>Stemcell Ubuntu Xenial 621.x</td>
    </tr>
	<tr>
	   <td>Supported Upgrade Paths</td>
	   <td>From Harbor v1.10.x and v1.9.x</td>
</table>

### <a id="v2.0.1_new"></a> New Features

- Harbor is now an OCI-compliant registry capable of hosting and managing any artifact adherent to the OCI image spec, including Docker Manifest Lists, CNABs, OPAs, Singularity and more
- Support added for multi-arch Docker images
- Support added for any structure leveraging OCI index 
- Support added for Helm Charts through OCI registry; removed reliance on Chartmuseum as the only way to host charts
- Aqua Trivy replaces Clair as the default vulnerability scanner
- Add internal TLS mode for all inter-component traffic for better security
- Webhook enhancements including Slack integration, selective activation of webhook events, configuring multiple target endpoints, as well as new webhook events including artifact deletion, artifact replication, quotas exceeded etc.
- Allow setting expiration time per robot account
- Remove project quotas designated by artifact count
- Refactor the error handling framework for better troubleshooting.
- View untagged images in UI with ability to include / exclude these from Garbage Collection and tag retention jobs
- Selectively add and delete tags from an image without deleting the image digest or other associated tags
- Upgrade Docker, Wavefront/proxy and Telegraf
- Support added for dark mode to Harbor web console

For additional details, refer to the [OSS Harbor 2.0.0 new features](https://github.com/goharbor/harbor/releases/tag/v2.0.0).

### <a id="v2.0.1_fixed"></a> Fixed Issues

Refer to the following fixed issues at the at the [Harbor OSS site](https://github.com/goharbor/harbor):

- [OSS Harbor 2.0.1 fixed issues](https://github.com/goharbor/harbor/issues?q=is%3Aissue+label%3Atarget%2F2.0.1+is%3Aclosed)
- [OSS Harbor 2.0.0 fixed issues](https://github.com/goharbor/harbor/issues?q=is%3Aissue+label%3Atarget%2F2.0.0+is%3Aclosed) 

----------

## <a id='v1.10.3'></a> v1.10.3

**Release Date:** June 15, 2020

VMware Harbor Registry v1.10.3 is a minor release with bug fixes.

### Supported Upgrade Paths

- From Harbor v1.10.x to Harbor v1.10.3
- From Harbor v1.9.x to Harbor v1.10.3
- From Harbor v1.8.x to Harbor v1.10.3

### Fixed Issues

- [`sudo` version 1.8.30 behave change which breaks harbor service after password expired](https://github.com/goharbor/harbor/issues/11633)

Also see the [Harbor OSS release notes](https://github.com/goharbor/harbor/releases/tag/v1.10.3) on Github.

### Support Matrix

- <%= vars.product_pks_full %> (formerly Enterprise PKS) v1.6.x, v1.7.x, v1.8.x
- Ops Manager v2.6, v2.7, v2.8, v2.9 (refer to the <%= vars.product_pks_full %> release notes for specific matching versions)
- Stemcell Ubuntu Xenial 456.x

----------

## <a id='v1.10.2'></a> v1.10.2 (withdrawn and replaced with v1.10.3)

**Release Date:** April 23, 2020

VMware Harbor Registry v1.10.2 is a minor release with new functionality and bug fixes.

### Supported Upgrade Paths

- From Harbor v1.10.x to Harbor v1.10.2
- From Harbor v1.9.x to Harbor v1.10.2
- From Harbor v1.8.x to Harbor v1.10.2

### New Features

Adds support for Azure Storage as an optional backend for Harbor container registry storage.

### Fixed Issues

- Use unified tagname for Harbor docker image
- Unable to complete oidc onboarding due to '\_xsrf' argument missing in the POST request

Also see the [Harbor OSS release notes](https://github.com/goharbor/harbor/releases/tag/v1.10.2) on Github.

### Known Issue

- [`sudo` version 1.8.30 behave change which breaks harbor service after password expired](https://github.com/goharbor/harbor/issues/11633)
  - Blocking; fixed in [v1.10.3](#v1.10.3)

### Support Matrix

- Enterprise PKS v1.5.x, v1.6.x, v1.7.x
- Ops Manager v2.5, v2.6, v2.7, v2.8 (refer to the Enterprise PKS release notes for specific matching versions)
- Stemcell Ubuntu Xenial 456.x

----------

## <a id='v1.10.1'></a> v1.10.1

**Release Date:** February 19, 2020

VMware Harbor Registry v1.10.1 is a minor release with various fixes.

### Supported Upgrade Paths

- From Harbor v1.10.0 to Harbor v1.10.1
- From Harbor v1.9.x to Harbor v1.10.1
- From Harbor v1.8.x to Harbor v1.10.1

### New Features

Adds support for Operations Manager 2.8 and fixes issues.

### Fixed Issues

For details and the full lists of known and fixed issues in this release, see the [Harbor release notes on  Github](https://github.com/goharbor/harbor/releases/tag/v1.10.1).

### Support Matrix

- Enterprise PKS v1.4.x, v1.5.x, v1.6.x
- Ops Manager v2.5, v2.6, v2.7, v2.8 (refer to the Enterprise PKS release notes for specific matching versions)
- Stemcell Ubuntu Xenial 456.*


----------

## <a id='v1.10.0'></a> v1.10.0

**Release Date:** December 19, 2019

VMware Harbor Registry v1.10.0 is a GA release with new features.

### Supported Upgrade Paths

- From Harbor v1.9.x to Harbor v1.10.0
- From Harbor v1.8.x to Harbor v1.10.0

### New Features

**Pluggable Scanners**

Worked with Aqua Security and Anchore to expand the list of supported 3rd party vulnerability scanners that the Harbor system administrator can configure. Project administrators can use any of the configured scanners in their projects. [Read more](https://github.com/goharbor/harbor/blob/master/docs/user_guide.md#vulnerability-scanning).

**Tag Immutability**

Allow Harbor project administrator to configure immutability rules at the project level. Images with certain tags cannot be overwritten by pushing, retagging, deleting, or replicating images with matching tags. [Read more](https://github.com/goharbor/harbor/blob/master/docs/user_guide.md#tag-immutability-rules).

   
**Replication Enhancements**

Adds Gitlab, Quay.io and Jfrog Artifactory to the list of supported replication targets. [Read more](https://github.com/goharbor/harbor/blob/master/docs/user_guide.md#replicating-resources).

**OIDC Enhancements**:

Support for OIDC groups. Adds user-defined CLI secrets. [Read more](https://github.com/goharbor/harbor/blob/master/docs/user_guide.md#oidc_auth).

**Limited Guest Role**. 

This role has lower permissions than Guest, and has no visibility into logs or the other members of a project. [Read more](https://github.com/goharbor/harbor/blob/master/docs/user_guide.md#rbac).

**New Webhook**

Project quota exceeded. [Read more](https://github.com/goharbor/harbor/blob/master/docs/user_guide.md#supported-events).


For more information, see the [release notes on Github](https://github.com/goharbor/harbor/releases/tag/v1.10.0) and the [release announcement](https://goharbor.io/blogs/harbor-1.10-release/).

### Fixed Issues

- Harbor upgrade failed because of the `no_proxy setting`.
- Harbor fails to install when FQDN is upper case.
- Set default container network pool to 172.20.0.0/16 to avoid conflicts.

For the full lists of known and fixed issues in this release, see the list of [closed issues in  Github](https://github.com/goharbor/harbor/issues?q=is%3Aissue+label%3Atarget%2F1.10.0+is%3Aclosed).

### Known Issues

Scan status freezes after migration from 1.8 to 1.10 [#9963](https://github.com/goharbor/harbor/issues/9963). For more information, see the [release notes on Github](https://github.com/goharbor/harbor/releases/tag/v1.10.0)

### Support Matrix

- Enterprise PKS v1.4.x, v1.5.x, v1.6.x
- Ops Manager v2.5, v2.6, v2.7 (refer to the Enterprise PKS release notes for specific matching versions)
- Stemcell Ubuntu Xenial 456.*


----------


## <a id='v1.9.4'></a> v1.9.4

**Release Date:** January 08, 2020

VMware Harbor Registry v1.9.4 is a minor release with various fixes.

### Supported Upgrade Paths

- From Harbor v1.9.x to Harbor v1.9.4
- From Harbor v1.8.x to Harbor v1.9.4
- From Harbor v1.7.x to Harbor v1.9.4

### New Features

There are no new features in this release.

### Fixed Issues

When upgrading Harbor from 1.8.x to 1.9.3, the upgrade fails if the Clair `no_proxy` values are not updated in the Harbor tile.

For details and the full lists of known and fixed issues in this release, see the [Harbor release notes on  Github](https://github.com/goharbor/harbor/releases/tag/v1.9.4).

### Support Matrix

- Enterprise PKS v1.4.x, v1.5.x, v1.6.x
- Ops Manager v2.4, v2.5, v2.6, v2.7 (refer to the Enterprise PKS release notes for specific matching versions)


----------


## <a id='v1.9.3'></a> v1.9.3

**Release Date:** November 18, 2019

VMware Harbor Registry v1.9.3 is a GA release with new features.

### Supported Upgrade Paths

- From Harbor v1.8.x to Harbor v1.9.3
- From Harbor v1.7.x to Harbor v1.9.3

### New Features

**Project Quotas**

By using quota management, system administrators can set constraints that limit the number of artifacts or the amount of storage resources that a project can use. This helps system administrators to better manage and allocate resources across all projects. [Read more](https://github.com/goharbor/harbor/blob/master/docs/user_guide.md#set-project-quotas)

**Tag Retention**

A repository can rapidly accumulate a large number of image tags, many of which might not be required after a given time or once they have been superseded by a subsequent image build. These excess tags can obviously consume large quantities of storage capacity. As a system administrator, you can define rules that govern how many tags of a given repository to retain, or for how long to retain certain tags. [Read more](https://github.com/goharbor/harbor/blob/master/docs/user_guide.md#tag-retention-rules)

**Webhooks**

Webhooks allow for the integration of Harbor with other tools to streamline continuous integration and development processes.  Currently, webhooks can be configured for actions including container image push, container image pull, container image delete, helm chart push, helm chart pull, helm chart delete, image scanning completed, CVE discovered [Read more](https://github.com/goharbor/harbor/blob/master/docs/user_guide.md#webhook-notifications)

**CVE Whitelists**

As a system administrator, you can create exception policies of certain whitelisted CVEs to ignore during vulnerability policy checking. [Read more](https://github.com/goharbor/harbor/blob/master/docs/user_guide.md#configure-cve-whitelists)

**Replication Enhancements**

This release includes the following improvements to replication:
   
- Adds the ability to replicate resources between Harbor and Google Container Registry, Azure Container Registry, Amazon Elastic Container Registry, Alibaba Cloud Container Registry, Helm Hub.
- Supports filtering by Harbor labels
- Supports configuring proxies
[Read more](https://github.com/goharbor/harbor/blob/master/docs/user_guide.md#replicating-resources)

* **Additional Features**

Harbor 1.9 adds numerous other capabilities for both administrators and end-users:
   
- Groups privileges prioritization: when an administrator privilege is granted to a user's group, but a guest privilege is also granted to the user, then the user has admin privileges.
- Supports the configuration of an external syslog endpoint and database connection pools.
- Security enhancement to make Harbor containers run as a non-root user.
- Adds the ability to upload/fetch charts with robot accounts.
- Bug Fixes and Improvements in job service: job retry, Redis pool run out, and the rapid growth in the amount of Redis data.
- Adds support authenticated by PKS UAA with SAML Identity Provider
- Adds VMWare vRealize Log Insight log integration
- Allows you to specify HTTP/HTTPS proxy for all Harbor components 

### Fixed Issues

- Addressed various security advisories. For details, see the [Harbor release notes on Github](https://github.com/goharbor/harbor/releases/tag/v1.9.3).
- Customize certificate with s3 compatible storage.
- Unable to authenticate with PKS UAA because PKS Certificate not trusted.

For the full lists of known and fixed issues in this release, see the [Harbor release notes on Github](https://github.com/goharbor/harbor/releases/tag/v1.9.3).

### Known Issues

- The network 172.23.0.0/16 is reserved for Harbor. Using IP addresses in this network will lead to IP conflicts that prevent communication between Harbor and Harbor clients. This is fixed in version 1.10.0.
- When upgrading Harbor from 1.8.x to 1.9.3, the upgrade fails if the Clair `no_proxy` values are not updated in the Harbor tile. To uprgrade Harbor, update the `no_proxy` values as described in the knowledge base article [Harbor upgrade from 1.8.x to 1.9.3 fails with harbor job (76299)](https://kb.vmware.com/s/article/76299).

### Support Matrix

- Enterprise PKS v1.4.x, v1.5.x, v1.6.x
- Ops Manager v2.4, v2.5, v2.6, v2.7 (refer to the Enterprise PKS release notes for specific matching versions)


## <a id='v1.8.6'></a> v1.8.6

**Release Date:** November 22, 2019

VMware Harbor Registry v1.8.6 is a minor release with various fixes.

### Supported Upgrade Paths

- From Harbor v1.8.x to Harbor v1.8.6
- From Harbor v1.7.x to Harbor v1.8.6
- From Harbor v1.6.x to Harbor v1.8.6

### New Features

There are no new features in this release.

### Fixed Issues

Addressed various security advisories. For details and the lists of known and fixed issues in this release, see the [Harbor release notes on  Github](https://github.com/goharbor/harbor/releases/tag/v1.8.6).

### Support Matrix

- Enterprise PKS v1.4.x, v1.5.x
- Ops Manager v2.4, v2.5, v2.6 (refer to the Enterprise PKS release notes for specific matching versions)


----------



## <a id='v1.8.5'></a> v1.8.5

**Release Date:** November 5, 2019

VMware Harbor Registry v1.8.5 is a minor release with various fixes.

### Supported Upgrade Paths

- From Harbor v1.8.x to Harbor v1.8.5
- From Harbor v1.7.x to Harbor v1.8.5
- From Harbor v1.6.x to Harbor v1.8.5

### New Features

There are no new features in this release.

### Fixed Issues

For the lists of known and fixed issues in this release, see the [Harbor release notes on Github](https://github.com/goharbor/harbor/releases/tag/v1.8.5).

### Support Matrix

- Enterprise PKS v1.4.x, v1.5.x
- Ops Manager v2.4, v2.5, v2.6 (refer to the Enterprise PKS release notes for specific matching versions)

----------
                           
## <a id='v1.8.4'></a> v1.8.4

**Release Date:** October 15, 2019

VMware Harbor Registry v1.8.4 is a minor release with various fixes.

### Supported Upgrade Paths

- From Harbor v1.8.x to Harbor v1.8.4
- From Harbor v1.7.x to Harbor v1.8.4
- From Harbor v1.6.x to Harbor v1.8.4

### New Features

There are no new features in this release.

### Fixed Issues

CVE-2019-16919: Enforcing project permissions and scope during robot account creation via the Harbor API. 

### Support Matrix

- Enterprise PKS v1.4.x, v1.5.x
- Ops Manager v2.4, v2.5, v2.6 (refer to the Enterprise PKS release notes for specific matching versions)


----------



## <a id='v1.8.3'></a> v1.8.3

**Release Date:** September 24, 2019

VMware Harbor Registry v1.8.3 is a minor release with various fixes.

### Supported Upgrade Paths

- From Harbor v1.8.x to Harbor v1.8.3
- From Harbor v1.7.x to Harbor v1.8.3
- From Harbor v1.6.x to Harbor v1.8.3

### New Features

There are no new features in this release.

### Fixed Issues

* [CVE-2019-16097](https://nvd.nist.gov/vuln/detail/CVE-2019-16097): Disallow creating an administrative user during self-registration.  Note: There is a workaround separate from the fix. If you are not able to upgrade immediately, you can [disable self-registration](https://github.com/goharbor/harbor/wiki/Harbor-FAQs#cve-2019-16097). 
* For the full list of issues fixed in v1.8.3, see the [closed issues](https://github.com/goharbor/harbor/issues?q=is%3Aissue+label%3Atarget%2F1.8.3+is%3Aclosed) at the Harbor repository.

### Support Matrix

- Enterprise PKS v1.4.x, v1.5.x
- Ops Manager v2.4, v2.5, v2.6 (refer to the Enterprise PKS release notes for specific matching versions)


----------



## <a id='v1.8.2'></a> v1.8.2

**Release Date:** August 30, 2019

VMware Harbor Registry v1.8.2 is a minor release with several fixes.

### Supported Upgrade Paths

- From Harbor v1.8.x to Harbor v1.8.2
- From Harbor v1.7.x to Harbor v1.8.2
- From Harbor v1.6.x to Harbor v1.8.2

### New Features

There are no new features in this release.

### Fixed Issues

For information about the issues fixed in this release, see the [Harbor v1.8.2 release notes](https://github.com/goharbor/harbor/releases/tag/v1.8.2) in the GoHarbor GitHub repository.

### Known Issues

- After upgrade from v1.6.x, the scheduled setting of "Scan All" is reset to "None" and the administrator will need to update the schedule again.
- The label filter in replication policies will be lost after upgrade ([#7762](https://github.com/goharbor/harbor/issues/7762)).
- When the internal redis is down, the health check API may return a 502 Bad Gateway error ([#7691](https://github.com/goharbor/harbor/issues/7691)).
- The Harbor API does not support pulling or pushing the manifest list from Docker registry. When replicating the manifest list, the image whose architecture is `amd64` and OS is `linux` (if found) or the first one will be replicated ([#6522](https://github.com/goharbor/harbor/issues/6522)).

### Support Matrix

- Enterprise PKS v1.4.x, v1.5.x
- Ops Manager v2.4, v2.5, v2.6 (refer to the Enterprise PKS release notes for specific matching versions)


----------


## <a id='v1.8.1'></a> v1.8.1

**Release Date:** July 9, 2019

VMware Harbor Registry v1.8.1 is a general availability release with several new features and fixes.

### Supported Upgrade Paths

* From Harbor v1.7.x to Harbor v1.8.1
* From Harbor v1.6.x to Harbor v1.8.1

### New Features

* Support for OpenID Connect
* Robot accounts
* Replication advancements
* Health Check API
* Support for defining cron-based scheduled tasks 
* API explorer integration
* Introduce a new master role to project
* Introduce harbor.yml as the replacement of harbor.cfg and refactor the prepare script 
* Enhancement of the Job Service engine to include webhook events
* Docker Registry upgraded to v2.7.1
* Remove adminserver container 

For additional details, refer to the [Harbor v1.8.0 release](https://github.com/goharbor/harbor/releases/tag/v1.8.0) at the Harbor GitHub repository.

### Fixed Issues

* Cron job (template) will be lost after migrating to latest version 1.8.0 from other versions (1.6.x/1.7.x) area/job-services kind/bug target/1.8.1.
* Pull based replication not support library/hipache in docker hub area/replication target/1.8.1.
* Pull based replication not support library/redis:2.8 in docker hub area/replication target/1.8.1.
* Swagger API version of 1.8.0 target/1.8.1.
* http_auth always onboard configuration doesn't work as expected target/1.8.1.

### Known Issues

* After upgrade from v1.6.x, the scheduled setting of "Scan All" is reset to "None" and the administrator will need to update the schedule again.
* The label filter in replication policies will be lost after upgrade ([#7762](https://github.com/goharbor/harbor/issues/7762)).
* When the internal redis is down, the health check API may return a 502 Bad Gateway error ([#7691](https://github.com/goharbor/harbor/issues/7691)).
* The Harbor API does not support pulling or pushing the manifest list from Docker registry. When replicating the manifest list, the image whose architecture is `amd64` and OS is `linux` (if found) or the first one will be replicated ([#6522](https://github.com/goharbor/harbor/issues/6522)).
* Harbor Tile UAA authentication does not support UAA with SAML backend.

### Support Matrix

* Enterprise PKS v1.4.x, v1.5.x
* Ops Manager v2.4, v2.5, v2.6 (refer to the Enterprise PKS release notes for specific matching versions)


----------



## <a id='v1.7.6'></a> v1.7.6

**Release Date:** September 24, 2019

VMware Harbor Registry v1.7.6 is a minor release.

### Supported Upgrade Paths

* From Harbor v1.7.x to Harbor v1.7.6
* From Harbor v1.6.x to Harbor v1.7.6

### Fixed Issues

* Disable syslog DNS name resolution.
* [CVE-2019-16097](https://nvd.nist.gov/vuln/detail/CVE-2019-16097): Disallow creating an administrative user during self-registration.  Note: There is a workaround separate from the fix. If you are not able to upgrade immediately, you can [disable self-registration](https://github.com/goharbor/harbor/wiki/Harbor-FAQs#cve-2019-16097).

### Support Matrix

* Supports PKS v1.3.x and 1.4.x
* Supports Ops Manager v2.3, Ops Manager v2.4, and Ops Manager v2.5


----------



## <a id='v1.7.5'></a> v1.7.5

**Release Date:** May 2, 2019

VMware Harbor Registry v1.7.5 is a minor release.

### Supported Upgrade Paths

* From Harbor v1.7.4 to Harbor v1.7.5
* From Harbor v1.7.3 to Harbor v1.7.5
* From Harbor v1.7.2 to Harbor v1.7.5
* From Harbor v1.6 to Harbor v1.7.5
* From Harbor v1.5 to Harbor v1.7.5

### Fixed Issues

* Harbor upgrade from 1.7.2 to 1.7.4 failed with error "Failed to update database, error: pq: must be owner of relation schema_migrations"
* Bumped up Clair to v2.0.8
* Fixed issues in supporting Windows images.
* Removed user-agent check-in notification handler.
* Fixed the issue global search not working if chartmusuem is not installed.

### Known Issues

* Cannot enter into the public projects in the global search result page without login (https://github.com/goharbor/harbor/issues/6435).
* Image label filter should consistent with charts (https://github.com/goharbor/harbor/issues/6447).

### Support Matrix

* Supports PKS v1.3.x, 1.4.x
* Supports Ops Manager v2.3, Ops Manager v2.4


----------



## <a id='v1.7.4'></a> v1.7.4

**Release Date:** March 26, 2019

VMware Harbor Registry v1.7.4 is a minor release.

### Supported Upgrade Paths

* From Harbor v1.7.3 to Harbor v1.7.4
* From Harbor v1.7.2 to Harbor v1.7.4
* From Harbor v1.6 to Harbor v1.7.4
* From Harbor v1.5 to Harbor v1.7.4

### Fixed Issues

* Not able to increase the disk size of the harbor VM.
* notary-server and notary-signer cannot start after upgrading to 1.7.4
* Other Harbor issues listed at the [Harbor repository](https://github.com/goharbor/harbor/issues?q=is%3Aissue+is%3Aclosed+label%3Atarget%2F1.7.4) in GitHub.


----------



## <a id='v1.7.3'></a> v1.7.3

**Release Date:** February 20, 2019

VMware Harbor Registry v1.7.3 is a minor release.

### Supported Upgrade Paths

* From Harbor v1.7.2 to Harbor v1.7.3
* From Harbor v1.7.1 to Harbor v1.7.3
* From Harbor v1.6 to Harbor v1.7.3
* From Harbor v1.5 to Harbor v1.7.3

### Fixed Issues

* [CVE-2019-5736](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-5736): runc container breakout.


----------



## <a id='v1.7.2'></a> v1.7.2

**Release Date:** February 5, 2019

VMware Harbor Registry v1.7.2 is a minor release.

### Supported Upgrade Paths

* From Harbor v1.6 to Harbor v1.7.2
* From Harbor v1.5 to Harbor v1.7.2

### Fixed Issues

* The Harbor upgrade from 1.6.0 to 1.7.1 known issue.
* Ctl start failed issue when NFS storage is configured.


----------



## <a id='v1.7.1'></a> v1.7.1

**Release Date:** January 16, 2019

<p class="note warning"><strong>WARNING</strong>: We recommend that you skip the Harbor v1.7.1 release and install or upgrade to <a href="release-notes.html#v1.7.2">Harbor v1.7.2</a>.</p>

VMware Harbor Registry v1.7.1 is a general availability release with several new features and fixes.

### New Features

* Support for [Harbor Registry Release-1.7.0](https://github.com/goharbor/harbor/wiki/Release-1.7.0).
* Bump stemcell version to ubuntu-xenial 170.14.

### Fixed Issues

* You can now change the Harbor `admin` password using the Harbor web interface. You must enter the new password in the **Admin Password to run smoke test** field of the **Credentials** pane in the Harbor tile before reinstalling or upgrading the Harbor tile.
* The parameter `registry` is added by default and does not have to be added manually to the `no_proxy` field for Clair proxy configuration.

### Known Issues

When upgrading from Harbor v1.6.0 to v1.7.1, the upgrade procedure may fail with the following error message: `1 of 3 pre-start scripts failed. Failed Jobs: harbor.` The workaround is to log in to the Harbor VM with BOSH and check the Docker images. If there are any Docker images found for `vmware/harbor-log`, remove the images before migration. After removing the images, click **Apply Changes** in Ops Manager and retry the upgrade. This issue is addressed in Harbor v1.7.2. 

For guidance on logging in to the Harbor VM using BOSH, see [Using BOSH Diagnostic Commands in TKGI](https://docs.pivotal.io/tkgi/manage-deployments-bosh.html).

See the following example commands to check for Docker images in `vmare/harbor-log`:
    
```
alias docker='/var/vcap/packages/docker/bin/docker -H unix:///var/vcap/sys/run/docker/dockerd.sock'
docker images | grep vmware/harbor-log
```

See the following example command to remove any Docker images found for `vmware/harbor-log`:

```    
docker rmi IMAGES-ID-OF-VMWARE/HARBOR-LOG
```


----------



## <a id='v1.6.3'></a> v1.6.3

**Release Date:** December 21, 2018

The Harbor 1.6.3 tile is a maintenance release.

### Fixed Issues

* Fixed issue with Clair's inability to scan S3 storage if it does not have the proper CA certificate for the S3 storage URL.
* Fixed issue with user being unable to sign images using Notary after upgrading to v1.6.


----------



## <a id='v1.6.0'></a> v1.6.0

**Release Date:** Sept 27, 2018

For more information about new Harbor features, see the [release notes](https://github.com/goharbor/harbor/wiki/Release-1.6.0) for Harbor v1.6.0 in the Harbor GitHub repository.

### New Features

* Support for customizing Docker container network address pool in the Harbor tile configuration.
* Disables Clair update by default in the Harbor tile.

### Fixed Issues

* **Email/UAA Settings** tab in the Harbor UI is reset to defaults after a resurrection event occurs in BOSH.
* When using S3 storage in Harbor tile to point to an internal S3 object store, Harbor does not trust the issuer.

### Known Issues

* If you change the Harbor `admin` password using the Harbor web interface, subsequent attempts to use **Apply Changes**in Ops Manager to update the Harbor tile will fail. To avoid this issue, do not change the Harbor password using the Harbor web interface.


----------



## <a id='v1.5.2'></a> v1.5.2

**NOTE:** This release is not supported as of 4/10/2019.

**Release Date:** July 23, 2018

Minor release to fix issues in v1.5.x.

### Fixed Issues

* Continuous traffic towards security-tracker.debian.org from Clair.
* Harbor upgrade from v1.4.2 to v1.5.1 failing.
* Email settings tab in Harbor UI is reset to defaults after a resurrection.


----------



## <a id='v1.5.1'></a> v1.5.1

**NOTE:** This release is not supported as of 4/10/2019.

**Release Date:** June 28, 2018

General Availability release to be used with PKS v1.1.x and VMware Tanzu Application Service for VMs (TAS for VMs) v2.1.x.

### New Features

* Harbor Tile v1.5.1 includes the Harbor v1.5.1 GA release build.
* Harbor Tile v1.5.1 is fully compatible with PKS v1.1.0 (but not PKS v1.0.x).


----------



## <a id='v1.4.2'></a> v1.4.2

**NOTE:** This release is not supported as of 4/10/2019.

**Release Date:** May 21, 2018

General Availability release to be used with PKS v1.x and TAS for VMs v2.x.

### New Features

* Allow configuring the HTTP proxy for Clair in the Harbor Tile.
* Allow configuring **v4auth** and **secure** for S3-compatible registry storage in the Harbor Tile.
* Support GCS as the docker registry storage in the Harbor Tile.
* Support upgrade from Harbor Tile v1.4.1 to v1.4.2.
* Encryption: No changes to encryption with this release.

### Fixed Issues

* Harbor Tile status shows failure after Harbor VM is rebooted manually or by vSphere HA.
* Harbor service sometimes cannot start after clicking **Apply changes** in Ops Manager.
* Clair or Notary cannot be turned off in Harbor Tile.
* PKS UAA user with admin rights does not have privilege.


----------



## <a id='v1.4.1'></a> v1.4.1

**NOTE:** This release is not supported as of 4/10/2019.

**Release Date:** February 8, 2018

### Fixed Issues

* [#4244](https://github.com/vmware/harbor/issues/4214) Harbor Tile deployment fails when the network name in BOSH Director contains upper-case characters.

### Known Issues

* [#4214](https://github.com/vmware/harbor/issues/4214) Deleting multiple tags that point to the same image may return a 500 error.
* [#4217](https://github.com/vmware/harbor/issues/4217) When using UAA, cannot onboard users with the same email address. Email addresses must be unique.
* Users may experience unexpected behavior with some versions of the Firefox browser when accessing the Harbor UI. Suggest use of Google Chrome for best results.
* Harbor uses default internal networks (default Docker IPs) that may overlap with customer production networks and cause issues, such as preventing communication with the registry from outside of the VM. For more information, see [PKS is unable to access the Harbor web interface](https://community.pivotal.io/s/article/PKS-is-unable-to-access-the-Harbor-web-interface) in the Pivotal Support Knowledge Base.


----------



## <a id='v1.4.0'></a> v1.4.0

**NOTE:** This release is not supported as of 4/10/2019.

**Release Date:** February 7, 2018

### New Features

* User Account and Authentication (UAA) integration capability with TAS for VMs and PKS.
* External S3 storage capability.
* Replication policy rework to support wildcard, scheduled replication.
* Support for repository-level description.
* Batch operation on projects/repositories/users from UI.

### Known Issues

* [#4214](https://github.com/vmware/harbor/issues/4214) Deleting multiple tags that point to the same image may return a 500 error.
* [#4217](https://github.com/vmware/harbor/issues/4217) When using UAA, cannot onboard users with the same email address. Email addresses must be unique.
* Users may experience unexpected behaviour with some versions of the Firefox browser when accessing the Harbor UI. Suggest use of Google Chrome for best results.


----------



## <a id='v1.3.1'></a> v1.3.1

**NOTE:** This release is not supported as of 4/10/2019.

**Release Date:** January 16, 2018

### Fixed Issues

* Fixed: [#3942](https://github.com/vmware/harbor/issues/3942) PKS/Harbor: Harbor services cannot start after Harbor VM is rebooted.
* Fixed: [#3849](https://github.com/vmware/harbor/issues/3849) Failed to stop dockerd service when updating the Harbor tile.
* Fixed: [#3823](https://github.com/vmware/harbor/issues/3823) Harbor tile should support user-provided certificate signed with other than Ops Manager root CA.
* Fixed: [#3814](https://github.com/vmware/harbor/issues/3814) Add **Verify LDAP Certificate** option in Harbor Tile UI.


----------



## <a id='v1.3.0'></a> v1.3.0

**Release Date:** December 21, 2017

### New Features

* Initial release of the VMware Harbor Registry.
* Adds a Harbor tile to Ops Manager.
